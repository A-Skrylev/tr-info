<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–µ–π—Ä–æ–∞—Ä—Ö–µ—Ç–∏–ø—ã ¬∑ –ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –•–µ–¥–µ—Ä */
        .header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }

        .logo {
            font-size: 3.5rem;
            font-weight: 300;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #FFD700, #7baa5c, #8a2be2);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* –í–æ–∑—Ä–∞—Å—Ç –≤ —Å—Ç–∏–ª–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
        .age-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 20px 30px;
            margin: 30px auto;
            max-width: 500px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            transition: all 0.3s ease;
        }

        .age-card:hover {
            border-color: #aaa;
            box-shadow: 0 10px 30px rgba(150, 150, 150, 0.2);
        }

        .age-card label {
            color: #aaa;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .age-card select {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            padding: 12px 25px;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            outline: none;
            transition: all 0.3s;
            min-width: 180px;
        }

        .age-card select:hover {
            border-color: #aaa;
            background: rgba(150, 150, 150, 0.1);
        }

        .age-card select option {
            background: #1a1a2e;
            color: white;
        }

        /* –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä */
        .progress {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50px;
            height: 10px;
            margin: 30px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .progress-fill {
            width: 0%;
            height: 100%;
            background: #aaa;
            border-radius: 50px;
            transition: width 0.3s ease;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ */
        .question-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s ease;
        }

        .question-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border-color: #aaa;
        }

        .scale-label {
            display: inline-block;
            background: rgba(150, 150, 150, 0.2);
            border: 1px solid rgba(150, 150, 150, 0.4);
            border-radius: 50px;
            padding: 8px 25px;
            font-size: 0.9rem;
            color: #aaa;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.5rem;
            line-height: 1.6;
            color: #fff;
            margin-bottom: 30px;
            font-weight: 400;
        }

        /* –®–∫–∞–ª–∞ –õ–∏–∫–µ—Ä—Ç–∞ */
        .likert {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 10px;
            margin: 30px 0 20px;
        }

        .likert-option {
            flex: 1 0 70px;
            text-align: center;
        }

        .likert-option input[type="radio"] {
            display: none;
        }

        .likert-option label {
            display: block;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 12px 0;
            font-size: 1.1rem;
            font-weight: 500;
            color: #aaa;
            cursor: pointer;
            transition: all 0.3s;
        }

        .likert-option input[type="radio"]:checked + label {
            background: #aaa;
            border-color: transparent;
            color: white;
            box-shadow: 0 5px 15px rgba(150, 150, 150, 0.3);
        }

        .likert-option label:hover {
            border-color: #aaa;
            transform: translateY(-2px);
        }

        .likert-labels {
            display: flex;
            justify-content: space-between;
            color: #aaa;
            font-size: 0.9rem;
            padding: 0 10px;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .nav-buttons button {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            padding: 12px 30px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .nav-buttons button:hover:not(:disabled) {
            background: #aaa;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .nav-buttons button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .counter {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 10px 25px;
            color: #aaa;
        }

        /* –ö–Ω–æ–ø–∫–∞ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ */
        .restart-btn {
            display: block;
            width: fit-content;
            margin: 40px auto 0;
            padding: 15px 40px;
            background: rgba(150, 150, 150, 0.2);
            border: 1px solid rgba(150, 150, 150, 0.4);
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .restart-btn:hover {
            background: #aaa;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã - –∫—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è */
        .result-section {
            margin-top: 30px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .result-title {
            font-size: 2rem;
            font-weight: 300;
            background: linear-gradient(90deg, #FFD700, #7baa5c, #8a2be2);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .age-display {
            background: rgba(150, 150, 150, 0.2);
            border: 1px solid rgba(150, 150, 150, 0.4);
            border-radius: 50px;
            padding: 8px 25px;
            color: #aaa;
            font-size: 1rem;
        }

        /* –ê—Ä—Ö–µ—Ç–∏–ø—ã —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π */
        .archetypes-section {
            margin: 50px 0;
        }

        .archetypes-title {
            font-size: 2rem;
            font-weight: 300;
            background: linear-gradient(90deg, #FFD700, #7baa5c, #8a2be2);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 30px;
        }

        .archetypes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .archetype-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-left: 4px solid;
            transition: all 0.3s;
        }

        .archetype-card.white { border-left-color: #4ade80; }
        .archetype-card.gray { border-left-color: #94a3b8; }
        .archetype-card.black { border-left-color: #f87171; }

        .archetype-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 30px rgba(0,0,0,0.3);
        }

        .archetype-name {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #fff;
        }

        .archetype-match {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .archetype-systems {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin: 15px 0;
        }

        .system-tag {
            font-size: 0.7rem;
            padding: 3px 10px;
            border-radius: 50px;
            background: rgba(150, 150, 150, 0.2);
            border: 1px solid rgba(150, 150, 150, 0.4);
            color: #aaa;
        }

        /* –ë–ª–æ–∫ —Å–æ–≤–µ—Ç–∞ */
        .advice-section {
            background: rgba(150, 150, 150, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin: 15px 0;
            border-left: 4px solid #aaa;
        }

        .advice-title {
            color: #aaa;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .advice-text {
            font-size: 0.95rem;
            color: #ddd;
            line-height: 1.5;
            font-style: italic;
        }

        .archetype-description {
            font-size: 0.95rem;
            color: #ddd;
            margin: 10px 0;
            line-height: 1.5;
            padding: 10px 0;
            border-top: 1px solid rgba(255,255,255,0.1);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .cultural-section {
            margin: 15px 0;
        }

        .cultural-title {
            color: #FFD700;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .cultural-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        .cultural-item {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 50px;
            padding: 4px 12px;
            font-size: 0.8rem;
            color: #FFD700;
        }

        .mythology-title {
            color: #7baa5c;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .mythology-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        .mythology-item {
            background: rgba(123, 170, 92, 0.1);
            border: 1px solid rgba(123, 170, 92, 0.3);
            border-radius: 50px;
            padding: 4px 12px;
            font-size: 0.8rem;
            color: #7baa5c;
        }

        .mystic-title {
            color: #8a2be2;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .mystic-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 10px;
        }

        .mystic-item {
            background: rgba(138, 43, 226, 0.1);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 50px;
            padding: 4px 12px;
            font-size: 0.8rem;
            color: #8a2be2;
        }

        .correlations-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
            padding: 15px 0;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .correlation-item {
            font-size: 0.85rem;
            color: #aaa;
        }

        .correlation-label {
            color: #aaa;
            font-weight: 600;
            margin-right: 5px;
        }

        .archetype-info {
            font-size: 0.85rem;
            color: #f87171;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ */
        .loading {
            text-align: center;
            padding: 60px;
            color: #aaa;
            font-size: 1.2rem;
        }

        .loading::after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-left: 10px;
            border: 2px solid #aaa;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .error-message {
            text-align: center;
            padding: 40px;
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid #ff6b6b;
            border-radius: 20px;
            color: #ff6b6b;
            margin: 30px 0;
        }

        /* –ü–æ–¥–≤–∞–ª */
        .footer {
            text-align: center;
            margin-top: 80px;
            padding-top: 30px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #777;
        }

        .footer p {
            font-size: 0.9rem;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="logo">–ù–µ–π—Ä–æ–∞—Ä—Ö–µ—Ç–∏–ø—ã ¬∑ –ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è</h1>
            <p class="subtitle">
                –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π –≤–µ–¥—É—â–∏–π –∞—Ä—Ö–µ—Ç–∏–ø ¬∑ 12 –Ω–µ–π—Ä–æ–±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º ¬∑ 64 –∞—Ä—Ö–µ—Ç–∏–ø–∞
            </p>
        </header>

        <!-- –í–æ–∑—Ä–∞—Å—Ç –≤ —Å—Ç–∏–ª–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
        <div class="age-card">
            <label><i class="fas fa-cake-candles"></i> –í–∞—à –≤–æ–∑—Ä–∞—Å—Ç:</label>
            <select id="ageSelect">
                <option value="1">0‚Äì2 –≥–æ–¥–∞</option>
                <option value="2">3‚Äì5 –ª–µ—Ç</option>
                <option value="3">6‚Äì11 –ª–µ—Ç</option>
                <option value="4">12‚Äì17 –ª–µ—Ç</option>
                <option value="5">18‚Äì25 –ª–µ—Ç</option>
                <option value="6" selected>26‚Äì40 –ª–µ—Ç</option>
                <option value="7">41‚Äì60 –ª–µ—Ç</option>
                <option value="8">60+ –ª–µ—Ç</option>
            </select>
        </div>

        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <div id="loadingIndicator" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ -->
        <div id="mainContent" style="display: none;">
            <div class="progress">
                <div class="progress-fill" id="progressFill" style="width:0%"></div>
            </div>
            
            <div id="quizBlock">
                <div class="question-card">
                    <span class="scale-label" id="currentScaleLabel">...</span>
                    <div class="question-text" id="currentQuestion">...</div>
                    <div class="likert" id="likertContainer"></div>
                    <div class="likert-labels">
                        <span>—Å–æ–≤—Å–µ–º –Ω–µ –ø—Ä–æ –º–µ–Ω—è</span>
                        <span>–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ</span>
                        <span>—Ç–æ—á–Ω–æ –ø—Ä–æ –º–µ–Ω—è</span>
                    </div>
                </div>
                
                <div class="nav-buttons">
                    <button id="prevBtn" disabled>‚Üê –ù–∞–∑–∞–¥</button>
                    <span class="counter" id="questionCounter">1 / 60</span>
                    <button id="nextBtn">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>

            <div id="resultBlock" style="display: none;"></div>
        </div>

        <footer class="footer">
            <p>¬© 2024 –¢–æ—á–∫–∞ –†–∞–≤–Ω–æ–≤–µ—Å–∏—è | tr-info.ru</p>
        </footer>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let archetypesDB = null;
        let questions = [];
        let answers = new Array(60).fill(3);
        let currentIndex = 0;

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const loadingIndicator = document.getElementById('loadingIndicator');
        const mainContent = document.getElementById('mainContent');
        const quizBlock = document.getElementById('quizBlock');
        const resultBlock = document.getElementById('resultBlock');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const counterSpan = document.getElementById('questionCounter');
        const questionDiv = document.getElementById('currentQuestion');
        const scaleSpan = document.getElementById('currentScaleLabel');
        const likertDiv = document.getElementById('likertContainer');
        const progressFill = document.getElementById('progressFill');
        const ageSelect = document.getElementById('ageSelect');

        // –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        async function loadDatabase() {
            try {
                const response = await fetch('neyroarh64.json');
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö');
                const data = await response.json();
                archetypesDB = data;
                
                // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
                generateQuestions();
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                loadingIndicator.style.display = 'none';
                mainContent.style.display = 'block';
                
                // –ù–∞—á–∞—Ç—å –æ–ø—Ä–æ—Å
                renderQuestion();
            } catch (error) {
                loadingIndicator.innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-triangle"></i> –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}<br>
                        –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª neyroarh64.json –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ
                    </div>
                `;
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è 12 —Å–∏—Å—Ç–µ–º
        function generateQuestions() {
            const systemQuestions = {
                '–¢–ï–†–†–ò–¢–û–†–ò–Ø': [
                    "–Ø –æ—Å—Ç—Ä–æ —á—É–≤—Å—Ç–≤—É—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –ª–∏—á–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ",
                    "–ú–µ–Ω—è —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç, –∫–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –≤—Ç–æ—Ä–≥–∞–µ—Ç—Å—è –Ω–∞ –º–æ—é —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é",
                    "–Ø —á—ë—Ç–∫–æ –º–∞—Ä–∫–∏—Ä—É—é —Å–≤–æ–∏ –≤–µ—â–∏ –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ",
                    "–ú–Ω–µ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å, –≥–¥–µ –º–æ–∏ –≥—Ä–∞–Ω–∏—Ü—ã",
                    "–Ø –∑–∞—â–∏—â–∞—é —Å–≤–æ—ë –º–µ—Å—Ç–æ –æ—Ç –ø–æ—Å—è–≥–∞—Ç–µ–ª—å—Å—Ç–≤"
                ],
                '–ò–ï–†–ê–†–•–ò–Ø': [
                    "–Ø –≤—Å–µ–≥–¥–∞ –∑–∞–º–µ—á–∞—é, –∫—Ç–æ –≤ –≥—Ä—É–ø–ø–µ –≥–ª–∞–≤–Ω—ã–π",
                    "–ú–Ω–µ –≤–∞–∂–Ω–æ –º–æ—ë –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –æ–±—â–µ—Å—Ç–≤–µ",
                    "–Ø —Å—Ç—Ä–µ–º–ª—é—Å—å –∫ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º—É —Å—Ç–∞—Ç—É—Å—É",
                    "–Ø –ª–µ–≥–∫–æ –ø–æ–¥—á–∏–Ω—è—é—Å—å —Ç–µ–º, –∫—Ç–æ –≤—ã—à–µ, –∏ –∂–¥—É –ø–æ–¥—á–∏–Ω–µ–Ω–∏—è –æ—Ç —Ç–µ—Ö, –∫—Ç–æ –Ω–∏–∂–µ",
                    "–Ø —á—É–≤—Å—Ç–≤—É—é –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç, –µ—Å–ª–∏ –∏–µ—Ä–∞—Ä—Ö–∏—è –Ω–µ—è—Å–Ω–∞"
                ],
                '–†–ò–¢–£–ê–õ': [
                    "–Ø –ª—é–±–ª—é –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Ä–∏—Ç—É–∞–ª—ã –∏ –ø—Ä–∏–≤—ã—á–∫–∏",
                    "–ú–Ω–µ –≤–∞–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π",
                    "–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –ø—Ä–∏–≤—ã—á–Ω–æ–≥–æ —Ä–∞—Å–ø–æ—Ä—è–¥–∫–∞ –º–µ–Ω—è —Ç—Ä–µ–≤–æ–∂–∏—Ç",
                    "–£ –º–µ–Ω—è –µ—Å—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä–∏—Ç—É–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —è —Å–æ–±–ª—é–¥–∞—é",
                    "–Ø —á—É–≤—Å—Ç–≤—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏ –∑–Ω–∞–∫–æ–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π"
                ],
                '–ü–û–ò–°–ö': [
                    "–ú–µ–Ω—è —Ç—è–Ω–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ",
                    "–Ø –ª–µ–≥–∫–æ –∑–∞–≥–æ—Ä–∞—é—Å—å –Ω–µ–∏–∑–≤–µ–¥–∞–Ω–Ω—ã–º",
                    "–°–∫—É–∫–∞ –¥–ª—è –º–µ–Ω—è –º—É—á–∏—Ç–µ–ª—å–Ω–∞",
                    "–Ø –≥–æ—Ç–æ–≤ —Ä–∏—Å–∫–æ–≤–∞—Ç—å —Ä–∞–¥–∏ –Ω–æ–≤–æ–≥–æ –æ–ø—ã—Ç–∞",
                    "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –º–µ—Å—Ç–∞"
                ],
                '–°–¢–†–ê–•': [
                    "–Ø —á–∞—Å—Ç–æ —Ç—Ä–µ–≤–æ–∂—É—Å—å –æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ–ø–∞—Å–Ω–æ—Å—Ç—è—Ö",
                    "–ù–æ–≤—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç —É –º–µ–Ω—è –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ",
                    "–Ø –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –∏–∑–±–µ–≥–∞—Ç—å —Ä–∏—Å–∫–∞",
                    "–ë—É–¥—É—â–µ–µ —á–∞—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ",
                    "–Ø —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞—é —É–≥—Ä–æ–∑—ã"
                ],
                '–ì–ù–ï–í': [
                    "–ú–µ–Ω—è –ª–µ–≥–∫–æ —Ä–∞–∑–æ–∑–ª–∏—Ç—å",
                    "–Ø –±—ã—Å—Ç—Ä–æ —Ä–µ–∞–≥–∏—Ä—É—é –Ω–∞ –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å",
                    "–í –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ —è —Å–∫–æ—Ä–µ–µ –Ω–∞–ø–∞–¥–∞—é",
                    "–ú–Ω–µ —Ç—Ä—É–¥–Ω–æ —Å–¥–µ—Ä–∂–∞—Ç—å –≥–Ω–µ–≤, –∫–æ–≥–¥–∞ –º–µ–Ω—è –ø—Ä–æ–≤–æ—Ü–∏—Ä—É—é—Ç",
                    "–ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –º–µ—à–∞–µ—Ç, —è —Ä–∞–∑–¥—Ä–∞–∂–∞—é—Å—å"
                ],
                '–í–û–ñ–î–ï–õ–ï–ù–ò–ï': [
                    "–°–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞ –¥–ª—è –º–æ–µ–≥–æ —Å–∞–º–æ–æ—â—É—â–µ–Ω–∏—è",
                    "–Ø —á—É–≤—Å—Ç–≤—É—é —Å–∏–ª—å–Ω–æ–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –≤–ª–µ—á–µ–Ω–∏–µ",
                    "–ö—Ä–∞—Å–æ—Ç–∞ –¥—Ä—É–≥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ —Å–∏–ª—å–Ω–æ –Ω–∞ –º–µ–Ω—è –≤–ª–∏—è–µ—Ç",
                    "–Ø –∞–∫—Ç–∏–≤–Ω–æ –∏—â—É —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π",
                    "–î–ª—è –º–µ–Ω—è –≤–∞–∂–Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è –±–ª–∏–∑–æ—Å—Ç—å"
                ],
                '–ü–†–ò–í–Ø–ó–ê–ù–ù–û–°–¢–¨': [
                    "–ú–Ω–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å —Å –±–ª–∏–∑–∫–∏–º–∏",
                    "–Ø —Ç—è–∂–µ–ª–æ –ø–µ—Ä–µ–∂–∏–≤–∞—é —Ä–∞–∑–ª—É–∫—É",
                    "–û–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ –¥–ª—è –º–µ–Ω—è –º—É—á–∏—Ç–µ–ª—å–Ω–æ",
                    "–Ø —Å–∏–ª—å–Ω–æ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Å—å –∫ –ª—é–¥—è–º",
                    "–ú–Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –º–µ–Ω—è –ª—é–±—è—Ç"
                ],
                '–ó–ê–ë–û–¢–ê': [
                    "–Ø –ª—é–±–ª—é –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ –¥—Ä—É–≥–∏—Ö",
                    "–ú–Ω–µ –≤–∞–∂–Ω–æ –ø–æ–º–æ–≥–∞—Ç—å –±–ª–∏–∑–∫–∏–º",
                    "–Ø –≥–æ—Ç–æ–≤ –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —Å–≤–æ–∏–º –≤—Ä–µ–º–µ–Ω–µ–º —Ä–∞–¥–∏ –¥—Ä—É–≥–∏—Ö",
                    "–ú–µ–Ω—è —Ç—è–Ω–µ—Ç –æ–ø–µ–∫–∞—Ç—å –∏ –æ–±–µ—Ä–µ–≥–∞—Ç—å",
                    "–ó–∞–±–æ—Ç–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç –º–Ω–µ —Ä–∞–¥–æ—Å—Ç—å"
                ],
                '–ò–ì–†–ê': [
                    "–Ø –ª—é–±–ª—é –∏–≥—Ä–∞—Ç—å –∏ –¥—É—Ä–∞—á–∏—Ç—å—Å—è",
                    "–Æ–º–æ—Ä –ø–æ–º–æ–≥–∞–µ—Ç –º–Ω–µ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏",
                    "–Ø –ª–µ–≥–∫–æ –æ—Ç–Ω–æ—à—É—Å—å –∫ –∂–∏–∑–Ω–∏",
                    "–ú–Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤ –¥–µ–ª–µ –±—ã–ª —ç–ª–µ–º–µ–Ω—Ç –∏–≥—Ä—ã",
                    "–Ø –æ–±–æ–∂–∞—é –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è"
                ],
                '–ö–û–ù–¢–†–û–õ–¨': [
                    "–Ø –≤—Å–µ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É—é —Å–≤–æ–∏ –¥–µ–ª–∞",
                    "–ú–Ω–µ –ª–µ–≥–∫–æ —Å–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã–µ –∂–µ–ª–∞–Ω–∏—è",
                    "–Ø –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –ø–æ—Ä—è–¥–æ–∫ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É",
                    "–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ –≤–∞–∂–Ω–µ–µ —Å–∏—é–º–∏–Ω—É—Ç–Ω—ã—Ö",
                    "–Ø –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫"
                ],
                '–°–û–¶–ò–ê–õ–¨–ù–û–°–¢–¨': [
                    "–Ø –ª–µ–≥–∫–æ –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —á—É–≤—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥–∏–µ",
                    "–ú–µ–Ω—è –≤–æ–ª–Ω—É–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å",
                    "–Ø —á–∞—Å—Ç–æ —Å—Ç–∞–≤–ª—é —Å–µ–±—è –Ω–∞ –º–µ—Å—Ç–æ –¥—Ä—É–≥–æ–≥–æ",
                    "–ú–Ω–µ –≤–∞–∂–Ω–æ, —á—Ç–æ –æ–±–æ –º–Ω–µ –¥—É–º–∞—é—Ç –æ–∫—Ä—É–∂–∞—é—â–∏–µ",
                    "–Ø —á—É–≤—Å—Ç–≤—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –æ–±—â–µ—Å—Ç–≤–æ–º"
                ],
                '–°–ú–´–°–õ': [
                    "–î–ª—è –º–µ–Ω—è –≤–∞–∂–Ω—ã –ø–æ–∏—Å–∫–∏ —Å–º—ã—Å–ª–∞ –∂–∏–∑–Ω–∏",
                    "–£ –º–µ–Ω—è –µ—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä–æ–π —è —Å–ª–µ–¥—É—é",
                    "–ú–µ–Ω—è –≤–æ–ª–Ω—É—é—Ç –≤–æ–ø—Ä–æ—Å—ã –¥—É—Ö–æ–≤–Ω–æ—Å—Ç–∏",
                    "–Ø —Å—Ç—Ä–µ–º–ª—é—Å—å –∫ —á–µ–º—É-—Ç–æ –±–æ–ª—å—à–µ–º—É, —á–µ–º —è —Å–∞–º",
                    "–ú–æ–∏ —É–±–µ–∂–¥–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç –º–æ—é –∂–∏–∑–Ω—å"
                ]
            };

            const systemOrder = [
                '–¢–ï–†–†–ò–¢–û–†–ò–Ø', '–ò–ï–†–ê–†–•–ò–Ø', '–†–ò–¢–£–ê–õ',
                '–ü–û–ò–°–ö', '–°–¢–†–ê–•', '–ì–ù–ï–í', '–í–û–ñ–î–ï–õ–ï–ù–ò–ï', '–ü–†–ò–í–Ø–ó–ê–ù–ù–û–°–¢–¨', '–ó–ê–ë–û–¢–ê', '–ò–ì–†–ê',
                '–ö–û–ù–¢–†–û–õ–¨', '–°–û–¶–ò–ê–õ–¨–ù–û–°–¢–¨', '–°–ú–´–°–õ'
            ];

            questions = [];
            systemOrder.forEach(system => {
                if (systemQuestions[system]) {
                    questions.push(...systemQuestions[system]);
                }
            });
        }

        // –§—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–æ—Å–∞
        function renderQuestion() {
            const systemNames = [
                '–¢–ï–†–†–ò–¢–û–†–ò–Ø', '–ò–ï–†–ê–†–•–ò–Ø', '–†–ò–¢–£–ê–õ',
                '–ü–û–ò–°–ö', '–°–¢–†–ê–•', '–ì–ù–ï–í', '–í–û–ñ–î–ï–õ–ï–ù–ò–ï', '–ü–†–ò–í–Ø–ó–ê–ù–ù–û–°–¢–¨', '–ó–ê–ë–û–¢–ê', '–ò–ì–†–ê',
                '–ö–û–ù–¢–†–û–õ–¨', '–°–û–¶–ò–ê–õ–¨–ù–û–°–¢–¨', '–°–ú–´–°–õ'
            ];
            
            const scaleIdx = Math.floor(currentIndex / 5);
            scaleSpan.innerText = systemNames[scaleIdx];
            questionDiv.innerText = questions[currentIndex];

            let html = '';
            for (let i=1; i<=5; i++) {
                const checked = answers[currentIndex] === i ? 'checked' : '';
                html += `<div class="likert-option">
                    <input type="radio" name="likert" id="opt${i}" value="${i}" ${checked}>
                    <label for="opt${i}">${i}</label>
                </div>`;
            }
            likertDiv.innerHTML = html;

            document.querySelectorAll('input[name="likert"]').forEach(r => {
                r.addEventListener('change', (e) => {
                    answers[currentIndex] = parseInt(e.target.value);
                    updateNav();
                });
            });

            counterSpan.innerText = `${currentIndex+1} / 60`;
            progressFill.style.width = ((currentIndex+1)/60*100)+'%';
            updateNav();
        }

        function updateNav() {
            prevBtn.disabled = currentIndex === 0;
            nextBtn.innerText = currentIndex === 59 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–î–∞–ª–µ–µ ‚Üí';
        }

        prevBtn.addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
                renderQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentIndex < 59) {
                currentIndex++;
                renderQuestion();
            } else {
                calculateResults();
            }
        });

        // –†–∞—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function calculateResults() {
            const systemScores = new Array(12).fill(0);
            for (let i=0; i<60; i++) {
                const systemIdx = Math.floor(i / 5);
                systemScores[systemIdx] += answers[i];
            }
            const normalizedScores = systemScores.map(s => (s - 5) / 20);
            const matches = findMatchingArchetypes(normalizedScores);
            showResults(matches);
        }

        function findMatchingArchetypes(scores) {
            const matches = [];

            function similarity(userScores, archetypeSystems) {
                const systemWeights = new Array(12).fill(0);
                const systemNames = [
                    '–¢–ï–†–†–ò–¢–û–†–ò–Ø', '–ò–ï–†–ê–†–•–ò–Ø', '–†–ò–¢–£–ê–õ',
                    '–ü–û–ò–°–ö', '–°–¢–†–ê–•', '–ì–ù–ï–í', '–í–û–ñ–î–ï–õ–ï–ù–ò–ï', '–ü–†–ò–í–Ø–ó–ê–ù–ù–û–°–¢–¨', '–ó–ê–ë–û–¢–ê', '–ò–ì–†–ê',
                    '–ö–û–ù–¢–†–û–õ–¨', '–°–û–¶–ò–ê–õ–¨–ù–û–°–¢–¨', '–°–ú–´–°–õ'
                ];

                if (Array.isArray(archetypeSystems)) {
                    archetypeSystems.forEach(sys => {
                        const cleanSys = sys.replace('‚Üë', '').replace('‚Üì', '');
                        const idx = systemNames.indexOf(cleanSys);
                        if (idx !== -1) systemWeights[idx] = 1.0;
                    });
                }

                let diff = 0;
                let weightSum = 0;
                for (let i=0; i<12; i++) {
                    if (systemWeights[i] > 0) {
                        diff += Math.abs(userScores[i] - 0.7);
                        weightSum++;
                    }
                }
                const avgDiff = weightSum > 0 ? diff / weightSum : 1;
                return Math.max(0, 100 - avgDiff * 100);
            }

            if (archetypesDB?.archetypes?.white) {
                archetypesDB.archetypes.white.forEach(a => {
                    matches.push({
                        ...a,
                        confidence: similarity(scores, a.systems),
                        type: 'white'
                    });
                });
            }

            if (archetypesDB?.archetypes?.gray) {
                archetypesDB.archetypes.gray.forEach(a => {
                    matches.push({
                        ...a,
                        confidence: similarity(scores, a.systems),
                        type: 'gray',
                        white_equivalent: a.white_equivalent,
                        broken: a.broken
                    });
                });
            }

            if (archetypesDB?.archetypes?.black) {
                archetypesDB.archetypes.black.forEach(a => {
                    matches.push({
                        ...a,
                        confidence: similarity(scores, a.systems),
                        type: 'black',
                        white_target: a.white_target,
                        transformation_path: a.transformation_path
                    });
                });
            }

            return matches.sort((a,b) => b.confidence - a.confidence).slice(0, 3);
        }

        function showResults(matches) {
            quizBlock.style.display = 'none';
            resultBlock.style.display = 'block';

            const ageValue = ageSelect.options[ageSelect.selectedIndex].text;

            let html = `
                <div class="result-section">
                    <div class="result-header">
                        <div class="result-title">–í–∞—à –∞—Ä—Ö–µ—Ç–∏–ø</div>
                        <div class="age-display"><i class="fas fa-cake-candles"></i> ${ageValue}</div>
                    </div>
                    
                    <div class="archetypes-grid">
            `;

            matches.forEach(m => {
                let borderClass = m.type === 'white' ? 'white' : (m.type === 'gray' ? 'gray' : 'black');
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–≤–µ—Ç
                let adviceHtml = '';
                if (m.advice) {
                    adviceHtml = `
                        <div class="advice-section">
                            <div class="advice-title">üí° –°–æ–≤–µ—Ç</div>
                            <div class="advice-text">${m.advice}</div>
                        </div>
                    `;
                } else if (m.type === 'white' && m.description) {
                    adviceHtml = `
                        <div class="advice-section">
                            <div class="advice-title">üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</div>
                            <div class="advice-text">–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, –Ω–æ –ø–æ–º–Ω–∏—Ç–µ –æ —Ç–µ–Ω–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω–µ: ${m.shadow || '–±–∞–ª–∞–Ω—Å –≤–æ –≤—Å—ë–º'}</div>
                        </div>
                    `;
                } else if (m.type === 'gray' && m.broken) {
                    adviceHtml = `
                        <div class="advice-section">
                            <div class="advice-title">üí° –ü—É—Ç—å –∫ –≥–∞—Ä–º–æ–Ω–∏–∏</div>
                            <div class="advice-text">${m.broken}. –†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞–¥ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –∫ —ç—Ç–∞–ª–æ–Ω—É ${m.white_equivalent || '–±–µ–ª–æ–≥–æ –∞—Ä—Ö–µ—Ç–∏–ø–∞'}.</div>
                        </div>
                    `;
                } else if (m.type === 'black' && m.transformation_path) {
                    adviceHtml = `
                        <div class="advice-section">
                            <div class="advice-title">üí° –ü—É—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏</div>
                            <div class="advice-text">${m.transformation_path}</div>
                        </div>
                    `;
                }

                // –§–æ—Ä–º–∏—Ä—É–µ–º –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ, –º–∏—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏ –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
                let culturalHtml = '';
                if (m.cultural && Array.isArray(m.cultural) && m.cultural.length > 0) {
                    culturalHtml = `
                        <div class="cultural-section">
                            <div class="cultural-title">üèõÔ∏è –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã</div>
                            <div class="cultural-items">
                                ${m.cultural.map(item => `<span class="cultural-item">${item}</span>`).join('')}
                            </div>
                        </div>
                    `;
                }

                let mythologyHtml = '';
                if (m.mythology && Array.isArray(m.mythology) && m.mythology.length > 0) {
                    mythologyHtml = `
                        <div class="mythology-section">
                            <div class="mythology-title">üìú –ú–∏—Ñ–æ–ª–æ–≥–∏—è</div>
                            <div class="mythology-items">
                                ${m.mythology.map(item => `<span class="mythology-item">${item}</span>`).join('')}
                            </div>
                        </div>
                    `;
                }

                let mysticHtml = '';
                if (m.mystic && Array.isArray(m.mystic) && m.mystic.length > 0) {
                    mysticHtml = `
                        <div class="mystic-section">
                            <div class="mystic-title">‚ú® –ú–∏—Å—Ç–∏–∫–∞</div>
                            <div class="mystic-items">
                                ${m.mystic.map(item => `<span class="mystic-item">${item}</span>`).join('')}
                            </div>
                        </div>
                    `;
                }

                // –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ (–∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞, –ø–ª–∞–Ω–µ—Ç–∞, —Ç–∞—Ä–æ –∏ —Ç.–¥.)
                let correlationsHtml = '';
                if (m.correlations) {
                    correlationsHtml = `
                        <div class="correlations-grid">
                            ${m.correlations.zodiac ? `<div class="correlation-item"><span class="correlation-label">‚ôà –ó–Ω–∞–∫:</span> ${m.correlations.zodiac}</div>` : ''}
                            ${m.correlations.planet ? `<div class="correlation-item"><span class="correlation-label">ü™ê –ü–ª–∞–Ω–µ—Ç–∞:</span> ${m.correlations.planet}</div>` : ''}
                            ${m.correlations.tarot ? `<div class="correlation-item"><span class="correlation-label">üé¥ –¢–∞—Ä–æ:</span> ${Array.isArray(m.correlations.tarot) ? m.correlations.tarot.join(', ') : m.correlations.tarot}</div>` : ''}
                            ${m.correlations.chakra ? `<div class="correlation-item"><span class="correlation-label">üïâÔ∏è –ß–∞–∫—Ä–∞:</span> ${m.correlations.chakra}</div>` : ''}
                            ${m.correlations.element ? `<div class="correlation-item"><span class="correlation-label">üåç –≠–ª–µ–º–µ–Ω—Ç:</span> ${m.correlations.element}</div>` : ''}
                            ${m.correlations.enneagram ? `<div class="correlation-item"><span class="correlation-label">‚≠ê –≠–Ω–Ω–µ–∞–≥—Ä–∞–º–º–∞:</span> ${m.correlations.enneagram}</div>` : ''}
                        </div>
                    `;
                }

                html += `
                    <div class="archetype-card ${borderClass}">
                        <div class="archetype-name">${m.name}</div>
                        <div class="archetype-systems">
                            ${Array.isArray(m.systems) ? m.systems.slice(0,4).map(s => 
                                `<span class="system-tag">${s}</span>`
                            ).join('') : ''}
                        </div>
                        
                        ${adviceHtml}
                        
                        ${m.description ? `<div class="archetype-description">${m.description}</div>` : ''}
                        
                        ${culturalHtml}
                        ${mythologyHtml}
                        ${mysticHtml}
                        ${correlationsHtml}
                        
                        ${m.white_equivalent ? `<div class="archetype-info">‚Üí –±–µ–ª—ã–π —ç—Ç–∞–ª–æ–Ω: ${m.white_equivalent}</div>` : ''}
                        ${m.broken ? `<div class="archetype-info">‚ö†Ô∏è ${m.broken}</div>` : ''}
                        ${m.white_target ? `<div class="archetype-info">‚Üí –±–µ–ª—ã–π —ç—Ç–∞–ª–æ–Ω: ${m.white_target}</div>` : ''}
                        ${m.transformation_path ? `<div class="archetype-info">üîÑ ${m.transformation_path}</div>` : ''}
                        ${m.shadow ? `<div class="archetype-info">‚ö†Ô∏è –¢–µ–Ω—å: ${m.shadow}</div>` : ''}
                    </div>
                `;
            });

            html += `
                    </div>
                    <div class="restart-btn" onclick="restartQuiz()">‚ü≤ –ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</div>
                </div>
            `;

            resultBlock.innerHTML = html;
        }

        window.restartQuiz = function() {
            answers.fill(3);
            currentIndex = 0;
            quizBlock.style.display = 'block';
            resultBlock.style.display = 'none';
            renderQuestion();
        };

        loadDatabase();
    </script>
</body>
</html>
